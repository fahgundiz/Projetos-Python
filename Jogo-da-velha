"""
Este algoritmo simula um jogo da velha.

Nome:Gabriel Fagundes
Data: 25/11/2025
"""
import random 

tabuleiro = [["1", "2", "3"],
             ["4", "5", "6"],
             ["7", "8", "9"]]

def mostrar_tabuleiro(tab):
    for linha in tab:
        print(" | ".join(linha))

def jogada_computador():
    print("Turno do computador...")
    while True:
        linha = random.randint(0,2)
        coluna = random.randint(0,2)
        if tabuleiro[linha][coluna].isdigit():
            tabuleiro[linha][coluna] = "O"
            break

def jogada_usuario():
    mostrar_tabuleiro(tabuleiro)
    while True:
        jogada_usuario = input("Digite a posição da sua jogada: ")
        
        if not jogada_usuario.isdigit():
            print("Digite um número válido!")
            continue
        
        num_jogada = int(jogada_usuario)
        if num_jogada < 1 or num_jogada > 9:
            print("Digite um número entre 1 e 9!")
            continue

        linha = (num_jogada - 1) // 3
        coluna = (num_jogada - 1) % 3

        if tabuleiro[linha][coluna].isdigit():
            tabuleiro[linha][coluna] = "X"
            break
        else:
            print("Erro. Essa posição já está ocupada!")

def verificar_vitoria(tab, jogador):
    #linhas
    for i in range(3):
        if tab[i][0] == jogador and tab[i][1] == jogador and tab[i][2]== jogador:
            return True
    #colunas
    for i in range(3):
        if tab[0][i] == jogador and tab[1][i] == jogador and tab[2][i]== jogador:
            return True

    #diagonais
        if tab[0][0] == jogador and tab[1][1] == jogador and tab[2][2]== jogador:
            return True
        
        if tab[0][2] == jogador and tab[1][1] == jogador and tab[2][0]== jogador:
            return True
    return False

def verificar_empate():
    for linha in tabuleiro:
        for posicao in linha:
            if posicao.isdigit():
                return False
    return True

def jogo_da_velha():
    while True:
        jogada_usuario()

        if verificar_vitoria(tabuleiro, "X"):
            mostrar_tabuleiro(tabuleiro)
            print("Você venceu!")
            break

        if verificar_empate():
            mostrar_tabuleiro(tabuleiro)
            print("Empate!")
            break

        jogada_computador()
        if verificar_vitoria(tabuleiro, "O"):
            mostrar_tabuleiro(tabuleiro)
            print("O computador venceu!")
            break

        if verificar_empate():
            mostrar_tabuleiro(tabuleiro)
            print("Empate!")
            break

if __name__ == "__main__":
    jogo_da_velha()
